<!DOCTYPE html>
<html>
<style>
    div {
        width: 100px;
        height: 100px;
        background-color: crimson;
        position: absolute;
    }
</style>

<body>

    <div id="mydiv"></div>

    <script>
        var mydiv = document.getElementById(("mydiv"));
        dragElement(mydiv);

        function dragElement(elmnt) {
            var pos1 = 0,
                pos2 = 0,
                pos3 = 0,
                pos4 = 0;




            elmnt.onmousedown = function (e) {
                pos3 = e.clientX;               // куда кликнула мышка в квадрате
                pos4 = e.clientY;               // куда кликнула мышка в квадрате
                // console.log(pos3, pos4);




                document.onmouseup = function () {
                    document.onmouseup = null;
                    document.onmousemove = null;
                }

                document.onmousemove = function (e) {

                    console.log(pos3, pos4);
                    pos1 = pos3 - e.clientX;
                    pos2 = pos4 - e.clientY;
                    pos3 = e.clientX;
                    pos4 = e.clientY;
                    // console.log(pos3, pos4);

                    elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
                    elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
                };


            }




        }
    </script>

</body>

</html>